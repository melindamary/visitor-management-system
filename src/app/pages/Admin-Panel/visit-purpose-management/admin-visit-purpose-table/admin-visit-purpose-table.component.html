<app-table
    [dataSource]="visitPurposes"
    [columnsToDisplay]="columns"
    [actionsTemplate]="actionsTemplate"
    [rows] = 10
>
<ng-template #actionsTemplate let-rowData let-rowIndex="rowIndex">
    <!-- Edit button -->
     <p-toast/>
    <p-button 
        *ngIf="rowData.status === 'Approved'"
        class="view-btn btn-outline-none"
        pRipple
        icon="pi pi-pencil"
        outlined="true"
        (click)="openEditModal(rowData)"
    ></p-button>

    <!-- Approve button -->
    <p-button
        *ngIf="rowData.status === 'Not Approved'"
        class="view-btn btn-outline-none"
        pRipple
        icon="pi pi-check-circle"
        outlined="true"
        [style]="{color: 'green'}"
        (click)="openEditModal(rowData)"
    ></p-button>

    <!-- Delete button -->
    <p-button
        class="view-btn btn-outline-none"
        pRipple
        icon="pi pi-trash"
        outlined="true"
        [style]="{color: 'red'}"
        (click)="confirmDelete(rowData.id)"
    ></p-button>
  </ng-template>
</app-table>
<p-dialog header="Approve Visit Purpose" [visible]="isEditModalVisible" [modal]="true" [closable]="false">
    <div *ngIf="selectedPurpose">
      <div class="p-field">
        <!-- <label for="name">Purpose Name</label> -->
        <input class="dialog-input" id="name" type="text" pInputText [value]="selectedPurpose.name" [(ngModel)]="selectedPurpose.name" />
      </div>
    </div>
    <p-footer>
      <p-button label="Save" icon="pi pi-check" (click)="saveEdit()" class="p-button-success positive-button"></p-button>
      <p-button label="Cancel" icon="pi pi-times" (click)="closeDialog()" class="p-button-secondary negative-button"></p-button>
    </p-footer>
  </p-dialog>
  <p-confirmDialog></p-confirmDialog>